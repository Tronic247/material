<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="material.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@6.5.95/css/materialdesignicons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
</head>

<body>
    <h1>
        Material Sandbox
    </h1>
    <p class="text-gray-6">
        This is a sandbox for testing Material Design components.
    </p>
    <button onclick="body.classList.toggle('dark')" style="position: sticky; top:0">
        Toggle dark mode
    </button>

    <section component="buttons"></section>
    <section component="alerts"></section>
    <section component="appbars"></section>
    <section component="snackbar"></section>
    <section component="popover"></section>
    <section component="tooltip"></section>
    <section component="checkbox"></section>

    <button id="menu-opener">Open menu</button>
    <div class="menu">
        <button></button>
        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Est dignissimos ipsum quasi blanditiis iusto consequuntur, unde tempora fuga cumque repellat natus dolorum odio iure. Corrupti eum veniam odit dolore iure.
        Quisquam incidunt consequatur perferendis nam eligendi qui possimus odit, distinctio molestiae ipsum repellat culpa ipsa animi dolore corrupti sapiente quidem. Ipsam rerum quae aperiam quis reprehenderit ea consequuntur id odio.
        Sit quisquam, nihil corrupti neque dolorum architecto nam quaerat illo sed nemo mollitia, quos ea! Tenetur rerum voluptas excepturi, iusto odio similique vitae alias optio labore ullam numquam et fuga!
        Cupiditate veniam molestiae, dicta laudantium vel voluptates nemo magni rerum, doloremque laboriosam laborum adipisci incidunt mollitia nobis cumque. Odio repellat sequi expedita cupiditate accusamus iure saepe, ad mollitia similique ullam.
    </div>

    



    <script src="material.js"></script>
    <script>
        document.querySelectorAll("[component]").forEach(elem => {
            const component = elem.getAttribute("component");

            elem.innerHTML = "<button>Load " + component + "</button>";


            const $$ = sel => document.querySelector(sel) || {}

            fetch(`${component}.html`)
                .then(response => response.text())
                .then(html => {
                    elem.onclick = () => {
                        elem.innerHTML = html;
                        elem.onclick = null;

                        Material.Ripple.init();
                        Material.Appbar();
                        $$("#openSnackbar").onclick = () => {
                            Material.Snackbar("This is a normal snackbar");
                        };

                        $$("#openSnackbarAction").onclick = () => {
                            Material.Snackbar("This is a snackbar with action button", {
                                action: "Action",
                                actionHandler: () => {
                                    Material.Snackbar("Action button clicked");
                                }
                            });
                        };

                        $$("#openSnackbarEvent").onclick = () => {
                            Material.Snackbar("This is a snackbar with events", {
                                onClose: () => {
                                    Material.Snackbar("Snackbar closed");
                                }
                            });
                        };



                        $$("#popover_trigger").onclick = () => {
                            Material.Popover.init("#popover_example");
                            $$("#popover_example").Material.Popover.toggle();
                        };

                        Material.Tooltip()
                    };
                });
        })

        document.querySelector("#menu-opener").onclick = (e) => {
            Material.Menu.init(document.querySelector(".menu"));
            document.querySelector(".menu").Material.Menu.toggle(e.target);
        };
    </script>
</body>

</html>